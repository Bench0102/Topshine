<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Your Cleaning Service - TipTop Shine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=WDXL+Lubrifont+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        .gradient-blue {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
        }
        .gradient-blue:hover {
            background: linear-gradient(135deg, #1d4ed8 0%, #2563eb 100%);
        }
        .font-lubrifont {
            font-family: 'WDXL Lubrifont TC', sans-serif;
        }
        .font-poppins {
            font-family: 'Poppins', sans-serif;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .floating-bubble {
            animation: float 6s ease-in-out infinite;
        }
        .delay-1 { animation-delay: 1s; }
        .delay-2 { animation-delay: 2s; }
        .delay-3 { animation-delay: 3s; }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        .bubble {
            position: absolute;
            border-radius: 50%;
            opacity: 0.1;
            animation: float 6s ease-in-out infinite;
        }
        .hidden { display: none; }
        
        /* Calendar Styles */
        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
        }
        .calendar-day {
            background: white;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            min-height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .calendar-day:hover {
            background: #dbeafe;
        }
        .calendar-day.available {
            background: #dcfce7;
            color: #166534;
        }
        .calendar-day.available:hover {
            background: #bbf7d0;
        }
        .calendar-day.unavailable {
            background: #fee2e2;
            color: #991b1b;
            cursor: not-allowed;
        }
        .calendar-day.selected {
            background: #3b82f6;
            color: white;
        }
        .calendar-header {
            background: #1e40af;
            color: white;
            padding: 12px;
            text-align: center;
            font-weight: 600;
        }
    </style>
</head>
<body class="font-poppins bg-blue-50 min-h-screen relative overflow-x-hidden">
    <!-- Background Bubbles -->
    <div class="fixed inset-0 pointer-events-none z-0">
        <div class="bubble w-32 h-32 bg-blue-300 top-20 left-10 floating-bubble"></div>
        <div class="bubble w-24 h-24 bg-yellow-300 bottom-20 left-20 floating-bubble delay-1"></div>
        <div class="bubble w-20 h-20 bg-blue-400 top-40 right-20 floating-bubble delay-2"></div>
        <div class="bubble w-16 h-16 bg-yellow-400 bottom-40 right-40 floating-bubble delay-3"></div>
        <div class="bubble w-12 h-12 bg-blue-200 top-60 left-1/3 floating-bubble delay-1"></div>
        <div class="bubble w-28 h-28 bg-yellow-200 top-1/2 right-1/4 floating-bubble delay-2"></div>
    </div>

    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <img src="Images/LOGO-removebg-preview.png" alt="TipTop Shine Logo" class="h-12 w-auto mr-3">
                        <span class="text-xl font-bold text-blue-800 font-lubrifont">TipTop Shine</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <a href="index.html" class="text-blue-900 hover:text-blue-600 px-3 py-2 font-medium">
                        <i class="fas fa-arrow-left mr-2"></i>Back to Home
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10">
        <!-- Services Section -->
        <div id="services-section">
            <div class="text-center mb-12">
                <h1 class="text-4xl font-bold text-blue-900 mb-4 font-lubrifont">
                    <i class="fas fa-sparkles mr-3"></i>Book Your Cleaning Service
                </h1>
                <p class="text-blue-700 text-lg">Choose your perfect cleaning package and let's make your space sparkle!</p>
                <div class="w-20 h-1 bg-yellow-400 mx-auto mt-4"></div>
            </div>

            <!-- Service Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
                <!-- Residential Cleaning -->
                <div class="bg-white rounded-xl p-6 shadow-lg card-hover transition-all duration-300 border-2 border-blue-100">
                    <div class="text-center mb-6">
                        <div class="bg-blue-100 rounded-full p-4 w-16 h-16 mx-auto mb-4 flex items-center justify-center">
                            <i class="fas fa-home text-blue-600 text-2xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-blue-900 mb-2">Residential Cleaning</h3>
                        <div class="text-3xl font-bold text-blue-600 mb-2">Starting at $120</div>
                        <p class="text-blue-700">Complete home cleaning service</p>
                    </div>
                    
                    <div class="mb-6">
                        <h4 class="font-semibold text-blue-900 mb-3">Includes:</h4>
                        <ul class="space-y-2 text-sm text-blue-700">
                            <li><i class="fas fa-check text-green-500 mr-2"></i>All rooms deep cleaning</li>
                            <li><i class="fas fa-check text-green-500 mr-2"></i>Kitchen & bathroom sanitization</li>
                            <li><i class="fas fa-check text-green-500 mr-2"></i>Dusting & vacuuming</li>
                        </ul>
                    </div>
                    
                    <button onclick="selectService('residential', 120, 'Residential Cleaning')" 
                            class="w-full gradient-blue text-white py-3 rounded-full font-bold hover:shadow-lg transition duration-300">
                        <i class="fas fa-calendar-check mr-2"></i>BOOK NOW
                    </button>
                </div>

                <!-- Commercial Cleaning -->
                <div class="bg-white rounded-xl p-6 shadow-lg card-hover transition-all duration-300 border-2 border-blue-100">
                    <div class="text-center mb-6">
                        <div class="bg-blue-100 rounded-full p-4 w-16 h-16 mx-auto mb-4 flex items-center justify-center">
                            <i class="fas fa-building text-blue-600 text-2xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-blue-900 mb-2">Commercial Cleaning</h3>
                        <div class="text-3xl font-bold text-blue-600 mb-2">Starting at $200</div>
                        <p class="text-blue-700">Professional office & business cleaning</p>
                    </div>
                    
                    <div class="mb-6">
                        <h4 class="font-semibold text-blue-900 mb-3">Includes:</h4>
                        <ul class="space-y-2 text-sm text-blue-700">
                            <li><i class="fas fa-check text-green-500 mr-2"></i>Office spaces & common areas</li>
                            <li><i class="fas fa-check text-green-500 mr-2"></i>Restroom sanitization</li>
                            <li><i class="fas fa-check text-green-500 mr-2"></i>Floor care & maintenance</li>
                        </ul>
                    </div>
                    
                    <button onclick="selectService('commercial', 200, 'Commercial Cleaning')" 
                            class="w-full gradient-blue text-white py-3 rounded-full font-bold hover:shadow-lg transition duration-300">
                        <i class="fas fa-calendar-check mr-2"></i>BOOK NOW
                    </button>
                </div>

                <!-- Post-Construction -->
                <div class="bg-white rounded-xl p-6 shadow-lg card-hover transition-all duration-300 border-2 border-blue-100">
                    <div class="text-center mb-6">
                        <div class="bg-blue-100 rounded-full p-4 w-16 h-16 mx-auto mb-4 flex items-center justify-center">
                            <i class="fas fa-hard-hat text-blue-600 text-2xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-blue-900 mb-2">Post-Construction</h3>
                        <div class="text-3xl font-bold text-blue-600 mb-2">Starting at $300</div>
                        <p class="text-blue-700">Construction debris & dust removal</p>
                    </div>
                    
                    <div class="mb-6">
                        <h4 class="font-semibold text-blue-900 mb-3">Includes:</h4>
                        <ul class="space-y-2 text-sm text-blue-700">
                            <li><i class="fas fa-check text-green-500 mr-2"></i>Debris removal</li>
                            <li><i class="fas fa-check text-green-500 mr-2"></i>Dust & residue cleaning</li>
                            <li><i class="fas fa-check text-green-500 mr-2"></i>Final polish & detailing</li>
                        </ul>
                    </div>
                    
                    <button onclick="selectService('post-construction', 300, 'Post-Construction')" 
                            class="w-full gradient-blue text-white py-3 rounded-full font-bold hover:shadow-lg transition duration-300">
                        <i class="fas fa-calendar-check mr-2"></i>BOOK NOW
                    </button>
                </div>

                <!-- Hoarder Cleaning -->
                <div class="bg-white rounded-xl p-6 shadow-lg card-hover transition-all duration-300 border-2 border-blue-100">
                    <div class="text-center mb-6">
                        <div class="bg-blue-100 rounded-full p-4 w-16 h-16 mx-auto mb-4 flex items-center justify-center">
                            <i class="fas fa-broom text-blue-600 text-2xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-blue-900 mb-2">Hoarder Cleaning</h3>
                        <div class="text-3xl font-bold text-blue-600 mb-2">Custom Quote</div>
                        <p class="text-blue-700">Specialized hoarding cleanup service</p>
                    </div>
                    
                    <div class="mb-6">
                        <h4 class="font-semibold text-blue-900 mb-3">Includes:</h4>
                        <ul class="space-y-2 text-sm text-blue-700">
                            <li><i class="fas fa-check text-green-500 mr-2"></i>Compassionate approach</li>
                            <li><i class="fas fa-check text-green-500 mr-2"></i>Safe item sorting</li>
                            <li><i class="fas fa-check text-green-500 mr-2"></i>Complete sanitization</li>
                        </ul>
                    </div>
                    
                    <button onclick="selectService('hoarder', 0, 'Hoarder Cleaning')" 
                            class="w-full gradient-blue text-white py-3 rounded-full font-bold hover:shadow-lg transition duration-300">
                        <i class="fas fa-calendar-check mr-2"></i>BOOK NOW
                    </button>
                </div>

                <!-- Move-In & Move-Out -->
                <div class="bg-white rounded-xl p-6 shadow-lg card-hover transition-all duration-300 border-2 border-blue-100">
                    <div class="text-center mb-6">
                        <div class="bg-blue-100 rounded-full p-4 w-16 h-16 mx-auto mb-4 flex items-center justify-center">
                            <i class="fas fa-truck-moving text-blue-600 text-2xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-blue-900 mb-2">Move-In & Move-Out</h3>
                        <div class="text-3xl font-bold text-blue-600 mb-2">Starting at $180</div>
                        <p class="text-blue-700">Moving transition cleaning service</p>
                    </div>
                    
                    <div class="mb-6">
                        <h4 class="font-semibold text-blue-900 mb-3">Includes:</h4>
                        <ul class="space-y-2 text-sm text-blue-700">
                            <li><i class="fas fa-check text-green-500 mr-2"></i>Deep cleaning all areas</li>
                            <li><i class="fas fa-check text-green-500 mr-2"></i>Appliance cleaning</li>
                            <li><i class="fas fa-check text-green-500 mr-2"></i>Move-in ready finish</li>
                        </ul>
                    </div>
                    
                    <button onclick="selectService('move-in-out', 180, 'Move-In & Move-Out')" 
                            class="w-full gradient-blue text-white py-3 rounded-full font-bold hover:shadow-lg transition duration-300">
                        <i class="fas fa-calendar-check mr-2"></i>BOOK NOW
                    </button>
                </div>

                <!-- Limited Time Offer -->
                <div class="bg-white rounded-xl p-6 shadow-lg card-hover transition-all duration-300 border-2 border-yellow-400 relative">
                    <div class="absolute -top-3 -right-3 bg-yellow-400 text-blue-900 px-3 py-1 rounded-full text-sm font-bold">
                        LIMITED TIME!
                    </div>
                    <div class="text-center mb-6">
                        <div class="bg-yellow-100 rounded-full p-4 w-16 h-16 mx-auto mb-4 flex items-center justify-center">
                            <i class="fas fa-star text-yellow-600 text-2xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-blue-900 mb-2">Special Offer</h3>
                        <div class="text-3xl font-bold text-yellow-600 mb-2">20% OFF</div>
                        <p class="text-blue-700">Roof & House Wash Special</p>
                    </div>
                    
                    <div class="mb-6">
                        <h4 class="font-semibold text-blue-900 mb-3">Includes:</h4>
                        <ul class="space-y-2 text-sm text-blue-700">
                            <li><i class="fas fa-check text-green-500 mr-2"></i>Complete roof cleaning</li>
                            <li><i class="fas fa-check text-green-500 mr-2"></i>Exterior house wash</li>
                            <li><i class="fas fa-check text-green-500 mr-2"></i>Gutter cleaning included</li>
                        </ul>
                    </div>
                    
                    <button onclick="selectService('special-offer', 250, 'Special Offer - 20% OFF')" 
                            class="w-full bg-yellow-400 hover:bg-yellow-500 text-blue-900 py-3 rounded-full font-bold hover:shadow-lg transition duration-300">
                        <i class="fas fa-calendar-check mr-2"></i>BOOK NOW
                    </button>
                </div>
            </div>
        </div>

        <!-- Booking Section -->
        <div id="booking-section" class="hidden">
            <div class="bg-white rounded-xl shadow-lg p-8">
                <!-- Disclaimer -->
                <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-8">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i class="fas fa-exclamation-triangle text-yellow-400"></i>
                        </div>
                        <div class="ml-3">
                            <p class="text-sm text-yellow-700">
                                <strong>⚠️ IMPORTANT:</strong> This is a REQUEST FORM ONLY. Completion does not guarantee service. 
                                You'll receive a confirmation or denial via email within 24 hours. 
                                Please check your spam folder if needed.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Back Button -->
                <button onclick="goBackToServices()" class="mb-6 text-blue-600 hover:text-blue-800 font-medium">
                    <i class="fas fa-arrow-left mr-2"></i>Back to Services
                </button>

                <!-- Service Summary -->
                <div class="mb-8">
                    <h2 class="text-2xl font-bold text-blue-900 mb-4 font-lubrifont">
                        <i class="fas fa-clipboard-list mr-2"></i>Service Summary
                    </h2>
                    <div class="bg-blue-50 rounded-lg p-4">
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-semibold text-blue-900">Selected Service:</span>
                            <span id="selected-service-name" class="text-blue-700"></span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="font-semibold text-blue-900">Price:</span>
                            <span id="service-price" class="text-blue-700 font-bold"></span>
                        </div>
                    </div>
                </div>

                <!-- Calendar Section -->
                <div class="mb-8">
                    <h3 class="text-xl font-bold text-blue-900 mb-4">
                        <i class="fas fa-calendar-alt mr-2"></i>Select Your Preferred Date
                    </h3>
                    <div class="bg-white border border-blue-200 rounded-lg p-4">
                        <div class="flex justify-between items-center mb-4">
                            <button onclick="previousMonth()" class="text-blue-600 hover:text-blue-800">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <h4 id="calendar-month" class="text-lg font-semibold text-blue-900"></h4>
                            <button onclick="nextMonth()" class="text-blue-600 hover:text-blue-800">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                        <div class="calendar">
                            <div class="calendar-header">Sun</div>
                            <div class="calendar-header">Mon</div>
                            <div class="calendar-header">Tue</div>
                            <div class="calendar-header">Wed</div>
                            <div class="calendar-header">Thu</div>
                            <div class="calendar-header">Fri</div>
                            <div class="calendar-header">Sat</div>
                            <!-- Calendar days will be populated by JavaScript -->
                        </div>
                        <div class="mt-4 text-sm text-blue-600">
                            <div class="flex items-center space-x-4">
                                <div class="flex items-center">
                                    <div class="w-4 h-4 bg-green-200 rounded mr-2"></div>
                                    <span>Available</span>
                                </div>
                                <div class="flex items-center">
                                    <div class="w-4 h-4 bg-red-200 rounded mr-2"></div>
                                    <span>Unavailable</span>
                                </div>
                                <div class="flex items-center">
                                    <div class="w-4 h-4 bg-blue-500 rounded mr-2"></div>
                                    <span>Selected</span>
                                </div>
                            </div>
                        </div>
                        <input type="hidden" id="selected-date" name="selected-date">
                    </div>
                </div>

                <!-- Contact Form -->
                <div class="mb-8">
                    <h3 class="text-xl font-bold text-blue-900 mb-6">
                        <i class="fas fa-form mr-2"></i>Contact & Service Details
                    </h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-blue-900 font-semibold mb-2">Full Name *</label>
                            <input type="text" id="customer-name" required 
                                   class="w-full px-4 py-3 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600">
                        </div>
                        <div>
                            <label class="block text-blue-900 font-semibold mb-2">Phone Number *</label>
                            <input type="tel" id="customer-phone" required 
                                   class="w-full px-4 py-3 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600">
                        </div>
                    </div>

                    <div class="mt-6">
                        <label class="block text-blue-900 font-semibold mb-2">Email Address *</label>
                        <input type="email" id="customer-email" required 
                               class="w-full px-4 py-3 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600">
                    </div>

                    <div class="mt-6">
                        <label class="block text-blue-900 font-semibold mb-2">Service Address *</label>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <input type="text" id="address-street" required placeholder="Street Address" 
                                   class="md:col-span-2 px-4 py-3 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600">
                            <input type="text" id="address-city" required placeholder="City" 
                                   class="px-4 py-3 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600">
                        </div>
                        <input type="text" id="address-state" required placeholder="State" 
                               class="mt-4 w-full md:w-1/3 px-4 py-3 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600">
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
                        <div>
                            <label class="block text-blue-900 font-semibold mb-2">Property Type *</label>
                            <select id="property-type" required class="w-full px-4 py-3 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600">
                                <option value="">Select Property Type</option>
                                <option value="house">House</option>
                                <option value="apartment">Apartment</option>
                                <option value="condo">Condo</option>
                                <option value="office">Office</option>
                                <option value="commercial">Commercial Building</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-blue-900 font-semibold mb-2">Square Footage (approx.)</label>
                            <input type="number" id="square-footage" placeholder="e.g., 1500" 
                                   class="w-full px-4 py-3 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600">
                        </div>
                    </div>

                    <div class="mt-6">
                        <label class="block text-blue-900 font-semibold mb-2">Special Instructions or Requests</label>
                        <textarea id="special-instructions" rows="4" placeholder="Any specific areas of focus, access instructions, or special requests..." 
                                  class="w-full px-4 py-3 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600"></textarea>
                    </div>

                    <div class="mt-6">
                        <label class="flex items-center">
                            <input type="checkbox" id="terms-agreement" required 
                                   class="mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-blue-300 rounded">
                            <span class="text-blue-900">I agree to the terms of service and understand this is a booking request *</span>
                        </label>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="text-center">
                    <button onclick="submitBooking()" 
                            class="gradient-blue text-white px-12 py-4 rounded-full font-bold text-lg hover:shadow-lg transition duration-300">
                        <i class="fas fa-paper-plane mr-2"></i>Submit Booking Request
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-xl p-8 max-w-md mx-4 text-center">
            <div class="text-green-500 text-6xl mb-4">
                <i class="fas fa-check-circle"></i>
            </div>
            <h3 class="text-2xl font-bold text-blue-900 mb-4">Request Submitted!</h3>
            <p class="text-blue-700 mb-6">Thank you for your booking request. We'll contact you within 24 hours to confirm your appointment.</p>
            <button onclick="closeModal()" class="gradient-blue text-white px-6 py-2 rounded-full font-bold">
                Close
            </button>
        </div>
    </div>

    <script>
        let selectedService = null;
        let servicePrice = 0;
        let currentDate = new Date();
        let selectedDate = null;

        // Service data
        const services = {
            'residential': { name: 'Residential Cleaning', price: 120 },
            'commercial': { name: 'Commercial Cleaning', price: 200 },
            'post-construction': { name: 'Post-Construction', price: 300 },
            'hoarder': { name: 'Hoarder Cleaning', price: 0 },
            'move-in-out': { name: 'Move-In & Move-Out', price: 180 },
            'special-offer': { name: 'Special Offer - 20% OFF', price: 250 }
        };

        // Unavailable dates (example - you can modify this)
        const unavailableDates = [
            '2024-12-25', // Christmas
            '2024-01-01', // New Year
            '2024-12-24', // Christmas Eve
            // Add more unavailable dates as needed
        ];

        function selectService(serviceId, price, name) {
            selectedService = serviceId;
            servicePrice = price;
            
            // Update summary
            document.getElementById('selected-service-name').textContent = name;
            document.getElementById('service-price').textContent = price > 0 ? '$' + price.toFixed(2) : 'Custom Quote';
            
            // Show booking section
            document.getElementById('services-section').classList.add('hidden');
            document.getElementById('booking-section').classList.remove('hidden');
            
            // Initialize calendar
            generateCalendar();
        }

        function goBackToServices() {
            document.getElementById('booking-section').classList.add('hidden');
            document.getElementById('services-section').classList.remove('hidden');
        }

        function generateCalendar() {
            const calendar = document.querySelector('.calendar');
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                'July', 'August', 'September', 'October', 'November', 'December'];
            
            // Update month header
            document.getElementById('calendar-month').textContent = 
                monthNames[currentDate.getMonth()] + ' ' + currentDate.getFullYear();
            
            // Clear existing calendar days (keep headers)
            const existingDays = calendar.querySelectorAll('.calendar-day');
            existingDays.forEach(day => day.remove());
            
            // Get first day of month and number of days
            const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
            const lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
            const startDate = new Date(firstDay);
            startDate.setDate(startDate.getDate() - firstDay.getDay());
            
            // Generate calendar days
            for (let i = 0; i < 42; i++) {
                const day = new Date(startDate);
                day.setDate(startDate.getDate() + i);
                
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = day.getDate();
                
                const today = new Date();
                const dayString = day.toISOString().split('T')[0];
                
                // Check if day is in current month
                if (day.getMonth() !== currentDate.getMonth()) {
                    dayElement.style.opacity = '0.3';
                    dayElement.style.cursor = 'default';
                } else if (day < today) {
                    // Past dates
                    dayElement.classList.add('unavailable');
                } else if (unavailableDates.includes(dayString)) {
                    // Unavailable dates
                    dayElement.classList.add('unavailable');
                } else {
                    // Available dates
                    dayElement.classList.add('available');
                    dayElement.onclick = () => selectDate(dayString, dayElement);
                }
                
                calendar.appendChild(dayElement);
            }
        }

        function selectDate(dateString, element) {
            // Remove previous selection
            document.querySelectorAll('.calendar-day.selected').forEach(day => {
                day.classList.remove('selected');
                if (day.classList.contains('available')) {
                    day.classList.add('available');
                }
            });
            
            // Add selection to clicked date
            element.classList.remove('available');
            element.classList.add('selected');
            
            selectedDate = dateString;
            document.getElementById('selected-date').value = dateString;
        }

        function previousMonth() {
            currentDate.setMonth(currentDate.getMonth() - 1);
            generateCalendar();
        }

        function nextMonth() {
            currentDate.setMonth(currentDate.getMonth() + 1);
            generateCalendar();
        }

        function submitBooking() {
            // Validate required fields
            const requiredFields = [
                'customer-name', 'customer-phone', 'customer-email',
                'address-street', 'address-city', 'address-state', 'property-type', 'terms-agreement'
            ];
            
            let isValid = true;
            
            // Check if date is selected
            if (!selectedDate) {
                alert('Please select a preferred date.');
                return;
            }
            
            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (fieldId === 'terms-agreement') {
                    if (!field.checked) {
                        isValid = false;
                        field.focus();
                    }
                } else if (!field.value.trim()) {
                    isValid = false;
                    field.focus();
                    field.classList.add('border-red-500');
                } else {
                    field.classList.remove('border-red-500');
                }
            });
            
            if (!isValid) {
                alert('Please fill in all required fields.');
                return;
            }
            
            // Show success modal
            document.getElementById('success-modal').classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('success-modal').classList.add('hidden');
            // Reset form
            window.location.reload();
        }

        // Initialize calendar when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Set minimum date to today
            const today = new Date().toISOString().split('T')[0];
        });
    </script>
</body>
</html>